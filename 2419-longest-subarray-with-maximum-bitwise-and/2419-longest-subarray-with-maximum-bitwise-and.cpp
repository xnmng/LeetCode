class Solution {
public:
    // because of AND properties, the longest subarray with AND
    // is the one where all values are maxVal!
    // because a & b <= min(a, b)
    //
    // count longest streak of maximum
    int longestSubarray(vector<int>& nums) {
        int ans = 0;
        int maximum = 0;
        int count = 0;
        for (int i : nums) {
            if (i == maximum) ++count;
            else if (i > maximum) {
                count = 1;
                maximum = i;
                ans = 0;
            }
            else {
                ans = max(ans, count);
                count = 0;
            }
        }
        return max(ans, count);
    }
};
// [311155,311155,311155,311155,311155,311155,311155,311155,201191,311155]
// [395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,395808,470030,470030,470030,470030,470030,470030,470030,470030,470030,470030,470030,470030,470030,470030,470030,470030,470030,470030,470030,470030,470030,470030,470030,470030,153490,330001,330001,330001,330001,330001,330001,330001,37284,470030,470030,470030,470030,470030,470030,156542,226743]